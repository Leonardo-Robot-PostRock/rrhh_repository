(()=>{var J={en:{required:"This field is required.",email:"Please enter a valid email address.",phone:"Please enter a valid phone number.",min:"Please enter at least {0} characters.",max:"Please enter no more than {0} characters.",pattern:"The value does not match the required format.",numeric:"Please enter a valid number.",minValue:"Please enter a value greater than or equal to {0}.",maxValue:"Please enter a value less than or equal to {0}.",file:"Please attach a PDF file.",leadingZero:"Please enter a salary that does not start with 0.",linkedin:"Please enter a valid LinkedIn profile URL.",date:"Please enter a valid date.",default:"The value is invalid."},es:{required:"Este campo es obligatorio.",email:"Por favor ingresa un correo electr\xF3nico v\xE1lido.",phone:"Por favor ingresa un n\xFAmero de tel\xE9fono v\xE1lido.",min:"Por favor ingresa al menos {0} caracteres.",max:"Por favor no ingreses m\xE1s de {0} caracteres.",pattern:"El valor no coincide con el formato requerido.",numeric:"Por favor ingresa un n\xFAmero v\xE1lido.",minValue:"Por favor ingresa un valor mayor o igual a {0}.",maxValue:"Por favor ingresa un valor menor o igual a {0}.",file:"Por favor adjunta un archivo PDF.",leadingZero:"Por favor ingresa un salario que no comience con 0.",linkedin:"Por favor ingresa una URL v\xE1lida de LinkedIn.",date:"Por favor ingresa una fecha v\xE1lida.",default:"El valor no es v\xE1lido."}},V=J;var y={email:/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/,phone:/^(?=(?:.*\d){7,})(\+?[0-9\s().-]{7,20})$/,isoDate:/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/,slashDate:/^(0?[1-9]|[12]\d|3[01])\/(0?[1-9]|1[0-2])\/\d{4}$/};function q(r){return r?String(r).split("|").map(e=>{let[t,i]=e.split(":");return{name:t.trim(),arg:i?.trim()}}):[]}function N(r,e){let t=r==null?"":String(r).trim();switch(e.name){case"required":return t.length>0||"required";case"email":return t.length===0||y.email.test(t)||"email";case"phone":return t.length===0||y.phone.test(t)||"phone";case"min":return t.length===0||t.length>=Number(e.arg)||{code:"min",arg:e.arg};case"max":return t.length===0||t.length<=Number(e.arg)||{code:"max",arg:e.arg};case"pattern":try{let i=new RegExp(e.arg);return t.length===0||i.test(t)||"pattern"}catch{return!0}case"regex":try{let i=new RegExp(e.arg);return t.length===0||i.test(t)||"pattern"}catch{return!0}case"date":return t.length===0?!0:y.isoDate.test(t)||y.slashDate.test(t)||"date";case"numeric":return t.length===0||/^[-+]?\d+(?:\.\d+)?$/.test(t)||"numeric";case"minValue":if(t.length===0)return!0;try{return Number(t)>=Number(e.arg)||{code:"minValue",arg:e.arg}}catch{return!0}case"maxValue":if(t.length===0)return!0;try{return Number(t)<=Number(e.arg)||{code:"maxValue",arg:e.arg}}catch{return!0}default:return!0}}var A=0;function C(r="fv"){return A+=1,`${r}-${A}`}function F(r,e){r.classList.add(e)}function T(r,e){r.classList.remove(e)}function I(r,...e){return r.replace(/\{(\d+)\}/g,(t,i)=>e[i]!=null?e[i]:t)}var p=class{constructor(e=0,t="Network Error"){this.status=e,this.text=t}};var H=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}};var c={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:H()};var g=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{};var O=(r,e="https://api.emailjs.com")=>{if(!r)return;let t=g(r);c.publicKey=t.publicKey,c.blockHeadless=t.blockHeadless,c.storageProvider=t.storageProvider,c.blockList=t.blockList,c.limitRate=t.limitRate,c.origin=t.origin||e};var w=async(r,e,t={})=>{let i=await fetch(c.origin+r,{method:"POST",headers:t,body:e}),o=await i.text(),a=new p(i.status,o);if(i.ok)return a;throw a};var E=(r,e,t)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var D=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var x=r=>r.webdriver||!r.languages||r.languages.length===0;var P=()=>new p(451,"Unavailable For Headless Browser");var $=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var z=r=>!r.list?.length||!r.watchVariable,G=(r,e)=>r instanceof FormData?r.get(e):r[e],L=(r,e)=>{if(z(r))return!1;$(r.list,r.watchVariable);let t=G(e,r.watchVariable);return typeof t!="string"?!1:r.list.includes(t)};var _=()=>new p(403,"Forbidden");var B=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var Y=async(r,e,t)=>{let i=Number(await t.get(r)||0);return e-Date.now()+i},S=async(r,e,t)=>{if(!e.throttle||!t)return!1;B(e.throttle,e.id);let i=e.id||r;return await Y(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)};var R=()=>new p(429,"Too Many Requests");var K=async(r,e,t,i)=>{let o=g(i),a=o.publicKey||c.publicKey,l=o.blockHeadless||c.blockHeadless,f=o.storageProvider||c.storageProvider,s={...c.blockList,...o.blockList},u={...c.limitRate,...o.limitRate};return l&&x(navigator)?Promise.reject(P()):(E(a,r,e),D(t),t&&L(s,t)?Promise.reject(_()):await S(location.pathname,u,f)?Promise.reject(R()):w("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:r,template_id:e,template_params:t}),{"Content-type":"application/json"}))};var M=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var Q=r=>typeof r=="string"?document.querySelector(r):r,U=async(r,e,t,i)=>{let o=g(i),a=o.publicKey||c.publicKey,l=o.blockHeadless||c.blockHeadless,f=c.storageProvider||o.storageProvider,s={...c.blockList,...o.blockList},u={...c.limitRate,...o.limitRate};if(l&&x(navigator))return Promise.reject(P());let n=Q(t);E(a,r,e),M(n);let m=new FormData(n);return L(s,m)?Promise.reject(_()):await S(location.pathname,u,f)?Promise.reject(R()):(m.append("lib_version","4.4.1"),m.append("service_id",r),m.append("template_id",e),m.append("user_id",a),w("/api/v1.0/email/send-form",m))};var W={init:O,send:K,sendForm:U,EmailJSResponseStatus:p};var b={cloudName:"colection",uploadPreset:"workana-project",folder:"cv_uploads"};var ee=`https://api.cloudinary.com/v1_1/${b.cloudName}/raw/upload`;async function Z(r){if(!r)throw new Error("No file provided");if(r.size>10*1024*1024)throw new Error("File exceeds 10MB limit");let e=new FormData;e.append("file",r),e.append("upload_preset",b.uploadPreset),b.folder&&e.append("folder",b.folder);let t=await fetch(ee,{method:"POST",body:e});if(!t.ok){let o=await t.text();throw new Error(`Cloudinary upload failed: ${o}`)}let i=await t.json();return{url:i.secure_url,publicId:i.public_id}}var k=class{constructor(e,t={}){this.opts=Object.assign({realtime:!1,lang:"en",rules:{}},t),this.lang=this.opts.lang in V?this.opts.lang:"en",this.messages=V[this.lang],this.forms=[],this._handlers=new WeakMap,this._resolveSelector(e).forEach(o=>this.attach(o))}attach(e){if(!e||e.tagName!=="FORM"||this.forms.indexOf(e)!==-1)return;let t=async o=>{if(o.preventDefault(),!this.validateForm(e))return;let l=e.querySelector('button[type="submit"], input[type="submit"]'),f=e.querySelector('input[name="cv"]'),s="";if(f&&f.files.length>0){let m=f.files[0];try{s=await Z(m)}catch(h){console.error("Error al subir el CV a Cloudinary:",h),alert("No se pudo subir el CV. Intenta de nuevo."),l&&(l.disabled=!1);return}}let u=e.querySelector('input[name="cv_url"]');u||(u=document.createElement("input"),u.type="hidden",u.name="cv_url",e.appendChild(u)),u.value=s,l&&(l.disabled=!0);let n=this.opts.emailjs;if(!n&&window.emailjsConfig&&(n=window.emailjsConfig),n){let{serviceId:m,templateId:h,publicKey:j}=n,v=document.querySelector('meta[name="recipient-email"]')?.content||"";if(v){let d=e.querySelector('input[name="to_email"]');d||(d=document.createElement("input"),d.type="hidden",d.name="to_email",e.appendChild(d)),d.value=v}W.sendForm(m,h,e,j).then(()=>{l&&(l.disabled=!1),alert("Email enviado correctamente!"),e.reset()}).catch(d=>{l&&(l.disabled=!1),console.error("Error al enviar el email:",d),alert("Error al enviar el email. Intenta de nuevo.")})}else{let m=document.querySelector('meta[name="recipient-email"]')?.content||"";if(m){let h=new FormData(e),j=Array.from(h.entries()).map(([v,d])=>d instanceof File?`${v}: ${d.name}`:`${v}: ${d}`).join(`
`);window.location.href=`mailto:${m}?subject=Nueva solicitud&body=${encodeURIComponent(j)}`}}},i={submit:t,inputs:[]};e.addEventListener("submit",t),this.opts.realtime&&Array.from(e.elements).filter(a=>a.tagName&&a.tagName.toLowerCase()!=="button").forEach(a=>{let l=()=>this._handleRealtime(a,e);a.addEventListener("input",l),a.addEventListener("blur",l),i.inputs.push({input:a,onInput:l})}),this._handlers.set(e,i),this.forms.push(e)}detach(e){let t=this._handlers.get(e);if(!t)return;e.removeEventListener("submit",t.submit),(t.inputs||[]).forEach(o=>o.input.removeEventListener("input",o.onInput)),this._handlers.delete(e);let i=this.forms.indexOf(e);i!==-1&&this.forms.splice(i,1)}destroy(){this.forms.slice().forEach(e=>this.detach(e))}_handleRealtime(e,t){this.validateField(e,t,{show:!0})}validateForm(e){let t=!0;return Array.from(e.elements).filter(o=>o.name||o.dataset.validate||o.required).forEach(o=>{this.validateField(o,e,{show:!0})||(t=!1)}),t}validateField(e,t,i={show:!0}){if(!e||e.disabled)return!0;let o=e.name||e.id||null,a=q(e.dataset.validate);e.required&&!a.some(s=>s.name==="required")&&a.unshift({name:"required"}),typeof e.minLength=="number"&&e.minLength>0&&!a.some(s=>s.name==="min")&&a.push({name:"min",arg:String(e.minLength)}),typeof e.maxLength=="number"&&e.maxLength>-1&&!a.some(s=>s.name==="max")&&a.push({name:"max",arg:String(e.maxLength)}),e.pattern&&!a.some(s=>s.name==="pattern")&&a.push({name:"pattern",arg:e.pattern});let l=o||null;if(l&&this.opts.rules&&this.opts.rules[l]&&q(this.opts.rules[l]).forEach(u=>a.push(u)),e.type==="email"&&!a.some(s=>s.name==="email")&&a.push({name:"email"}),a.length===0)return this._clearError(e),this._applyValid(e),!0;if(e.type==="file"){for(let s=0;s<a.length;s++){let u=a[s];if(u.name==="file"){let n=e.files;if(!n||n.length===0)return i.show&&this._showError(e,"required"),this._applyInvalid(e),!1;let m=n[0];if((u.arg||"").toLowerCase()==="pdf"&&m.type!=="application/pdf"&&!m.name.toLowerCase().endsWith(".pdf"))return i.show&&this._showError(e,"file"),this._applyInvalid(e),!1}}return this._clearError(e),this._applyValid(e),!0}let f=e.value;if(o==="salary"&&f){let s=String(f).trim();if(s.length>1&&s.startsWith("0")||/^0\d+/.test(s))return i.show&&this._showError(e,"leadingZero"),this._applyInvalid(e),!1}for(let s=0;s<a.length;s++){let u=a[s],n=N(f,u);if(n===!0)continue;let m="default",h;return n==="required"||n==="email"||n==="phone"||n==="pattern"||n==="date"?m=n:typeof n=="object"?(m=n.code||"default",h=n.arg):typeof n=="string"&&(m=n),i.show&&this._showError(e,m,h),this._applyInvalid(e),!1}return this._clearError(e),this._applyValid(e),!0}_applyInvalid(e){F(e,"fv-invalid"),T(e,"fv-valid"),e.setAttribute("aria-invalid","true")}_applyValid(e){T(e,"fv-invalid"),F(e,"fv-valid"),e.removeAttribute("aria-invalid")}_showError(e,t,i){let o=this.messages[t]||this.messages.default;i&&(o=I(o,i));let a=e.nextElementSibling;if(!a||!a.classList.contains("fv-error-message")){a=document.createElement("div"),a.className="fv-error-message",a.setAttribute("role","alert"),a.setAttribute("aria-live","assertive");let l=C("fv-err");a.id=l,e.parentNode&&e.parentNode.insertBefore(a,e.nextSibling)}a.textContent=o,e.setAttribute("aria-describedby",a.id)}_clearError(e){let t=e.nextElementSibling;t&&t.classList.contains("fv-error-message")&&t.parentNode&&t.parentNode.removeChild(t),e.removeAttribute("aria-describedby")}_resolveSelector(e){return typeof e=="string"?Array.from(document.querySelectorAll(e)):e instanceof Element&&e.tagName==="FORM"?[e]:NodeList.prototype.isPrototypeOf(e)||Array.isArray(e)?Array.from(e):[]}};typeof window<"u"&&(window.FormValidator=k);var ht=k;})();
//# sourceMappingURL=bundle.js.map
